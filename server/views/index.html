<!DOCTYPE html>
<html lang="zh-tw">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>多人線上即時2D槍戰</title>

    <link rel="stylesheet" href="index.css" />
  	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
  	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">.

</head>
<body style="background-color:#121212;">
  <div class="position-absolute top-50 start-50 translate-middle" id="MainSence">
    <div style="width: 600px;">
      <div class="input-group" id="chat-box">
        <div class="container">
          <div class="row">
            <div class="col align-self-center">
              <div class="col-12">
                <input id="name_message" type="text" class="form-control text-light bg-dark" placeholder="請輸入暱稱" aria-label="請輸入暱稱" aria-describedby="basic-addon1">
              </div>
            </div>
          </div>
          <br><br>
          <div>
            <div class="position-absolute top-100 start-50 translate-middle">
              <button id="login-game" type="button" class="btn btn-light btn-lg text-success">登入遊戲</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>



  <div class="fixed-top">
    <div align="right">
      <button onclick="javascript:this.style.display='none'" id="talkroomOpen"  style="display: none;" class="btn btn-dark btn-sm" type="button" data-bs-toggle="collapse" data-bs-target="#chat_box_collapse" aria-expanded="false" aria-controls="chat_box_collapse">
        <span class="input-group-text text-light bg-dark" id="basic-addon1"><i class="fas fa-comments"></i></span>
      </button>
      <div style="min-height: 120px;">
        <div class="collapse collapse-horizontal show" id="chat_box_collapse">
          <div id="message-box"  class="w-25">
            <div class="input-group" id="chat-box">
              <span class="input-group-text text-light bg-dark" id="basic-addon1">
                <button onclick="javascript:document.getElementById('talkroomOpen').style.display='block'" class="btn-close btn-close-white" type="button" data-bs-toggle="collapse" data-bs-target="#chat_box_collapse" aria-expanded="false" aria-controls="chat_box_collapse">
                </button>
              </span>
              <input id="message" type="text" class="form-control text-light bg-dark" placeholder="聊天欄" aria-label="聊天欄" aria-describedby="basic-addon1">
            </div>
            <div id="msg" align="left"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="fixed-bottom">
    <!--
    <button style="display:block;" onclick="javascript:phone_open()" class="btn btn-close-white" type="button" id="phone_open">
      <i class="fas fa-gamepad">手機搖桿開啟</i>
    </button>
    <button style="display:none;" onclick="javascript:phone_close()" class="btn btn-close-white" type="button" id="phone_close">
      <i class="fas fa-gamepad">手機搖桿關閉</i>
    </button>
    <div id="phoneControl" style="display:none;">
      <div align="left">
        <div class="container">
          <div class="row">
            <div class="col-1"></div>
            <div class="col-1"><button class="btn btn-primary btn-lg" ontouchstart="up()" ontouchend="stopup()" ontouchstart="moveup()">🔼</button></div>
            <div class="col-1"></div>
          </div>
          <div class="row">
            <div class="col-1"><button class="btn btn-primary btn-lg" ontouchstart="left()" ontouchend="stopleft()" ontouchstart="moveleft()">◀</button></div>
            <div class="col-1"></div>
            <div class="col-1"><button class="btn btn-primary btn-lg" ontouchstart="right()" ontouchend="stopright()" ontouchstart="moveright()">▶</button></div>
          </div>
          <div class="row">
            <div class="col-1"></div>
            <div class="col-1"><button class="btn btn-primary btn-lg" ontouchstart="down()" ontouchend="stopdown()" ontouchstart="movedown()">🔽</button></div>
            <div class="col-1"></div>
          </div>
          <div class="row">
            <br>
          </div>
        </div>
      </div>
    </div>
    -->
    <div align="left">
      <div class="row align-items-start" id="card">

      </div>
  </div>

  <canvas id="obs_map" width="4230" height="1650" style="display: none;"></canvas>
  <div style="display:none">
    <img src="views/img/obs.png" id="obs">
    <img src="views/img/scence.png" id="scence">
    <img src="views/img/blue_desert.png" id="blue_desert">
    <img src="views/img/waveWater.png" id="waveWater">

    <img src="views/img/fireball.png" id="fireball">

    <img src="views/img/Blue/alienBlue_front.png" id="alienBlue_front">
    <img src="views/img/Blue/alienBlue_walk1.png" id="alienBlue_walk1">
    <img src="views/img/Blue/alienBlue_walk2.png" id="alienBlue_walk2">
    <img src="views/img/Blue/alienBlue_duck.png" id="alienBlue_duck">

    <img src="views/img/Pink/alienPink_front.png" id="alienPink_front">
    <img src="views/img/Pink/alienPink_walk1.png" id="alienPink_walk1">
    <img src="views/img/Pink/alienPink_walk2.png" id="alienPink_walk2">
    <img src="views/img/Pink/alienPink_duck.png" id="alienPink_duck">

    <img src="views/img/effect/1.png" id="effect1">
    <img src="views/img/effect/2.png" id="effect2">

    <img src="views/img/hudJewel_yellow.png" id="mp_heart">
    <img src="views/img/hudJewel_yellow_empty.png" id="mp_heart_empty">

  </div>
  <script>
    var id = Date.now().toString();
    var race = 1;
    var mp = 10;
    var msgBox = $('#msg');
    var socket = io();
    var effectlist = {};
    var playerlist = {};
    var card = {};
    var playerlist_Now = {};
    var playerlist_buffer = {};
    var playerlist_UT = 0;
    var skillObjectlist = {};
    var SkillObject;
    var skillObjectlist_Now = {};
    var skillObjectlist_buffer = {};
    var skillObjectlist_UT = 0;
    var cardchoose = 0;
    var gamestat = 0;
    var gametick_player = 0;
    var gametick_skill = 0;
    var ping_player = 0.0;
    var ping_old_player = 0.0;
    var ping_skill = 0.0;
    var ping_old_skill = 0.0;
    var ping = 0;
    var Window_height = window.innerHeight;
    var Window_width = window.innerWidth;
    var key_w = false;
    var key_s = false;
    var key_a = false;
    var key_d = false;
    var mouse_x = 0.0;
    var mouse_y = 0.0;
    var PlayerCount;
    var selfPlayer = {
      id : id,
      name : '訪客',
      health : 100,
      team : 1,
      mp : 100,
      x : 0,
      y : 0,
      flip : false,
      speed : 3,
      online : 1,
      motion_x : 0.0,
      motion_y : 0.0,
      damage : 20,
      animation : 0
    };
    obs_map_canvas = document.getElementById("obs_map");
    obstx = obs_map_canvas.getContext("2d");
    var obsimg = document.getElementById('obs');

  </script>
  <script src="scripts/Game.js"></script>
  <script src="scripts/Input.js"></script>
  <script src="scripts/MainLobby.js"></script>
  <script src="scripts/Socket.js"></script>
  <script src="scripts/Terrain.js"></script>
  <script src="scripts/jqueryrotate.js"></script>
  <script src="scripts/Carduse.js"></script>

</body>
</html>
